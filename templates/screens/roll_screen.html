{% extends "base.html" %}

{% block title %}修仙世界 - 天命抽取{% endblock %}

{% block body_class %}ink-darkmode{% endblock %}

{% block content %}
<div class="flex h-screen">
  <!-- 左侧属性面板 -->
  <div class="w-1/2 p-6 overflow-y-auto border-r border-ink-border">
    <h2 class="text-2xl mb-6">角色属性</h2>
    <section class="mb-6">
      <h3 class="text-lg mb-4 text-ink-subtle">基础信息</h3>
      <div class="grid grid-cols-2 gap-y-2">
        <span class="text-sm text-gray-400">姓名：</span><span id="char-name">-</span>
        <span class="text-sm text-gray-400">年龄：</span><span id="char-age">-</span>
        <span class="text-sm text-gray-400">灵根：</span><span id="char-spiritual-root">-</span>
      </div>
    </section>

    <section class="mb-6">
      <h3 class="text-lg mb-4 text-ink-subtle">天赋属性</h3>
      <div class="grid grid-cols-2 gap-y-2">
        <span>悟性：</span><span id="attr-comprehension">-</span>
        <span>根骨：</span><span id="attr-constitution">-</span>
        <span>气运：</span><span id="attr-fortune">-</span>
        <span>魅力：</span><span id="attr-charisma">-</span>
        <span>毅力：</span><span id="attr-willpower">-</span>
        <span>感知：</span><span id="attr-perception">-</span>
        <span>天命：</span><span id="attr-destiny">-</span>
        <span>机约：</span><span id="attr-opportunity">-</span>
      </div>
    </section>

    <div class="mt-8 space-y-4">
      <button id="roll-btn" class="ink-button w-full">抽取天命</button>
      <button id="confirm-btn" class="ink-button w-full hidden">确认开局</button>
    </div>
  </div>

  <!-- 右侧抽取区域 -->
  <div class="w-1/2 flex items-center justify-center">
    <div id="roll-animation" class="text-center text-accent text-xl">
      点击「抽取天命」开始
    </div>
  </div>
</div>

<!-- Jackpot 模态框 -->
<div id="jackpot-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
  <div class="bg-white p-6 rounded-lg text-center shadow-xl">
    <button class="absolute top-4 right-4 text-gray-600" onclick="document.getElementById('jackpot-modal').classList.add('hidden')">×</button>
    <h2 class="text-2xl mb-4 text-ink-tier-tian">✨ 触发小保底！</h2>
    <p class="text-lg">你的角色拥有超出常人的天赋！</p>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/roll.js') }}"></script>
{% endblock %}
