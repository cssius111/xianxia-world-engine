<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="沉浸式修仙世界模拟器 - 探索、修炼、突破命运。" />
    <meta name="theme-color" content="#f5f5f5" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon" />

    <!-- 水墨风格主题样式 -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/ink_theme.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/layout.css') }}" />

    <style>
    :root {
        --ink-bg: #121212;
        --ink-border: #444;
        --ink-accent: #ccc;
        --ink-hover-bg: #1e1e1e;
        --ink-hover-text: #fff;
        --ink-title: #f8f8f8;
        --ink-subtitle: #cfcfcf;
        --ink-muted: #888;
    }
    body {
        background-color: var(--ink-bg);
        color: var(--ink-accent);
    }
    </style>

    {% block extra_css %}{% endblock %}
</head>
<body class="{{ body_class|default('') }}">
    {% block content %}{% endblock %}

    <!-- 全局命名空间和动态入口 -->
    <script>
        window.XianXia = window.XianXia || {};
        document.addEventListener("DOMContentLoaded", function () {
            if (typeof XianXia.init === "function") {
                XianXia.init();
            }
        });
    </script>

    {% block extra_js %}{% endblock %}
</body>
</html>
